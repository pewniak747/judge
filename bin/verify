#!/bin/bash

SRC_FILE=$1
PROGRAM_NAME=`basename $SRC_FILE .cpp`
BLACKLIST_FILE=conf/blacklist.conf
BLACKLIST=`cat $BLACKLIST_FILE`

source bin/common

cat $BLACKLIST_FILE | while read taboo; do
  result=`grep -c "$taboo" $SRC_FILE`
  if [[ $result != "0" ]]; then
    red "unacceptable expression: $taboo" $PROGRAM_NAME
    exit 1
  fi
done
